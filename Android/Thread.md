# 스레드

- **동시에 여러 작업을 수행하기 위해 사용되는 개념**
- CPU는 한개의 작업만 가능하다.
  - 동시 작업을 위해 CPU를 가상의 여러 작은 부분으로 나누고<br>각 프로세서가 다른 작업을 수행함으로써 동시 작업을 할 수 있다.<br> -> 이를 스레드 / 멀티스레드 / 경량 프로세스라고 한다.

---

- `함수` : 하나의 작업이 끝나야 다음 작업이 진행된다.
- `스래드` : 하나의 작업이 끝나기 전에 다른 작업을 동시에 진행시킬 수 있다.<br><br>

## 프로그램 / 프로세스

- `프로그램` : 컴퓨터에 의해 실행되는 명령과 데이터의 집합을 말한다.
  - 저장장치에 대부분 파일형태로 저장된다.
  - CPU에 의해 메모리로 로딩되고 실행된다.
- `프로세스` : 현재 메모리에 로딩되고 실행 중인 프로그램을 말한다.

---

OS의 발전으로 기존 프로그램이 컴퓨터 하드웨어에 의해<br>
직접 실행되던 구조에서 OS가 프로그램의 실행을 담당하는 구조로 변했다.<br> -> CPU, 메모리 관리를 담당하는 OS가 프로그램의 실행을 관리한다.<br> -> 저장장치에 있는 프로그램을 메모리에서 실행하고, <br> 리소스 할당과 관리를 OS가 담당하게 되었다. <br>
-> 시스템 효율 측면에서 매우 큰 장점이다.

- 여러 프로그램을 동시에 실행 가능하다.
- 하나의 프로그램을 동시에 여러개 실행 가능하다.<br><br>

## 스레드

어떤 경우에는 main() 함수에서 시작되는 하나의 코드 실행 흐름만으로는 <br> 처리하기 힘든 동작을 구현해야 할 수도 있다.
-> 이런 경우에는 하나의 실행흐름과는 달리 독립적인 실행흐름을 만들면 되지 않을까?

---

`스레드` : 프로세스 내에서 실행되는 각각의 **독립적인 실행흐름**을 말한다.
`멀티스레드 프로그래밍` : 두개 이상의 스레드가 동작하도록 프로그래밍 하는 것

### 메인 스레드

- 메인 스레드? : 프로세스의 시작과 동시에 처음으로 실행되는 스레드
- 스레드는 프로세스 실행 중 언제든지 필요에 따라 실행되고 중단될 수 있다.<br>
  -> 기존에 이미 실행중인 스레드에 의해서 수행될 수 있다.<br>-> 최소 하나의 스레드가 실행 중 이어야만 다른 새로운 스레드를 만들 수 있다.
- 하지만 새로운 스레드가 오직 메인 스레드에 의해서만 실행되는 것은 아니다.

### 동기화와 스레드 간섭

스레드를 여러개 만들었을 때 충돌이 일어나 원하지 않는 결과가 나오거나 <br>
모듈이 꼬일 수 있다.

- 동기화 : 여러 스레드가 같은 프로세스 안에서 자원을 공유하기 때문에<br>영향을 주는걸 말한다.
- 스레드 간섭 : A 스레드가 처리하고 있던 내용을 중간에 다른 스레드가<br>처리하게 되면 충돌이 발생하거나 원치 않는 결과를 받을 수 있는걸 말한다.
- 안드로이드에서는 동기화 문제 때문에 워커스레드의 모든 UI 작업은 <br> 핸들러를 통해 메인 스레드로 보내진다.
  - 메인 스레드 : 안드로이드의 직접적인 UI 작업을 하는 스레드이다.<br>
    -> 오래 걸리는 작업은 워커스레드에서 하도록 지정해야 한다.
  - 워커 스레드 : UI 작업을 하지 않는 스레드이다.<br>
    보통 시간이 오래 걸리는 작업을 한다.
